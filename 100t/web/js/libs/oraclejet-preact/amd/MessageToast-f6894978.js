define(['exports', 'preact/jsx-runtime', 'preact/hooks', './index-7d808afa', './hooks/PRIVATE_useMessagesFocusManager', './hooks/UNSAFE_useBreakpointValues', './hooks/UNSAFE_useTranslationBundle', './PRIVATE_Message', './index-63aaeea5', './UNSAFE_Flex', './UNSAFE_FocusTrap', './UNSAFE_LiveRegion', './utils/UNSAFE_arrayUtils', './hooks/UNSAFE_useComponentTheme', './UNSAFE_MessageToast/themes/redwood/MessageToastTheme', './FocusTrap-33bb474d', './Flex-0a2755ad', './MessagesManager-9c22a890', './MessageUtils-400d4d6a'], (function(e,t,s,o,n,a,r,i,l,c,u,d,g,m,h,f,p,x,R){"use strict";g.stringLiteralArray(["top","top-left","top-right","top-start","top-end","bottom","bottom-left","bottom-right","bottom-start","bottom-end"]);const T={entering:e=>({from:{transform:`translate(0, ${e.offsetHeight}px)`,opacity:1},to:{transform:"translate(0, 0)",opacity:1},end:{transform:"unset",opacity:1},options:{duration:250}}),exiting:{from:{opacity:1},to:{opacity:0},end:{opacity:0},options:{duration:250}}},y={opacity:0};e.MessageToast=function({data:e,detailRendererKey:c,iconRendererKey:u,renderers:g,onClose:M,offset:F,position:v}){const E=s.useRef(new Map),b=s.useRef(null),k=s.useRef(null),S=s.useRef(null),[A,j]=s.useState(),[U,_]=s.useState(e.length>0),[N,I]=s.useState(!1),C=r.useTranslationBundle("@oracle/oraclejet-preact"),w=s.useRef(e.length),V=s.useRef(0);w.current=e.length,s.useImperativeHandle(S,(()=>({focus:()=>!!e.length&&(b.current=E.current.get(e[0].key)??null,I(!0),!0),contains:t=>!(!e.length||!t)&&(k.current?.contains(t)??!1)})),[e]);const{controller:P,handlers:L}=n.useMessageFocusManager(S,{onFocus:s.useCallback((()=>{j(C.message_navigationFromMessagesRegion())}),[C]),onFocusLeave:s.useCallback((()=>{I(!1)}),[])},{handleEscapeKey:!1}),O=s.useCallback(((t,s,o)=>{const n=o?.contains(document.activeElement);if(0===w.current)return _(!1),I(!1),void(n&&setImmediate((()=>P.restorePriorFocus())));const a=s+1<e.length?s+1:s-1;if(a>-1&&n){const t=e[a].key;E.current.get(t)?.focus()}}),[P,e]),z=s.useCallback((e=>t=>E.current.set(e,t)),[]);s.useEffect((()=>{const t=V.current;if(V.current=e.length,e.length)return _(!0),e.length>t&&j(C.message_navigationToMessagesRegion()),void P.prioritize();j(t?C.messageToast_allMessagesClosed():"")}),[P,e.length,C]);const B=a.useBreakpointValues({sm:"--oj-c-PRIVATE-DO-NOT-USE-message-toast-max-width-sm",md:"--oj-c-PRIVATE-DO-NOT-USE-message-toast-max-width-md",lg:"--oj-c-PRIVATE-DO-NOT-USE-message-toast-max-width-lg"}),D=a.useBreakpointValues({sm:{horizontal:"number"==typeof F?F:F?.horizontal??0,vertical:16+("number"==typeof F?F:F?.vertical??0)},lg:{horizontal:"number"==typeof F?F:F?.horizontal??0,vertical:24+("number"==typeof F?F:F?.vertical??0)}}),W=s.useMemo((()=>({close:C.close(),confirmation:C.confirmation(),error:C.error(),info:C.info(),warning:C.warn()})),[C]),{classes:K}=m.useComponentTheme(h.MessageToastRedwoodTheme);return U||0!==e.length?t.jsxs(o.EnvironmentProvider,{environment:{colorScheme:"dark"},children:[t.jsx(l.MessageLayer,{offset:D,position:v,children:t.jsx("div",{class:K,ref:k,tabIndex:-1,...L,children:t.jsx(f.FocusTrap,{autoFocusRef:b,isDisabled:!N,children:t.jsx(p.Flex,{direction:"column",gap:"1x",align:"center",maxWidth:B,children:t.jsx(x.MessagesManager,{animationStates:T,initialAnimationStyles:y,data:e,onMessageWillRemove:O,children:({index:e,item:s})=>t.jsx(i.Message,{messageRef:z(s.key),item:s,detailRenderer:R.getRendererWithoutIndex(s,c,g),iconRenderer:R.getRendererWithoutIndex(s,u,g),index:e,onClose:M,translations:W,variant:"toast"},s.key)})})})})}),t.jsx(d.LiveRegion,{children:A})]}):t.jsx(d.LiveRegion,{children:A})}}));
//# sourceMappingURL=MessageToast-f6894978.js.map
