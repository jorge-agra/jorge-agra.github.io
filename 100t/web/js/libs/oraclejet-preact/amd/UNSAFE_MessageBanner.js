define(['exports', 'preact/jsx-runtime', 'preact/hooks', './hooks/UNSAFE_useComponentTheme', './utils/UNSAFE_classNames', './hooks/PRIVATE_useMessagesFocusManager', './PRIVATE_Message', './UNSAFE_Flex', './UNSAFE_LiveRegion', './UNSAFE_MessageBanner/themes/redwood/MessageBannerTheme', './classNames-c6cc4719', './Flex-0a2755ad', './MessagesManager-9c22a890', './MessageUtils-400d4d6a', './utils/UNSAFE_logger', './_curry1-5cea534a', './_curry2-c02a6898', './utils/PRIVATE_timer', './PRIVATE_Message/themes/MessageStyles.css', 'module', './MessageCloseButton-80b9e135', './UNSAFE_IconButton', './IconButton-8a163411', 'preact', './UNSAFE_BaseButton', './BaseButton-ff511180', './hooks/UNSAFE_usePress', './hooks/UNSAFE_useHover', './hooks/UNSAFE_useToggle', './hooks/UNSAFE_useActive', 'preact/compat', 'module', './utils/UNSAFE_interpolations/dimensions', './utils/UNSAFE_arrayUtils', './utils/UNSAFE_size', './UNSAFE_Theme', './utils-3096e431', './Common/themes/themeContract.css', './utils/UNSAFE_mergeInterpolations', './_curry3-f55dd1d6', './_has-de06828b', './utils/PRIVATE_clientHints', './clientHints-fbfc14a7', './hooks/UNSAFE_useTabbableMode', './utils/UNSAFE_mergeProps', './UNSAFE_ButtonLayout', './ButtonLayout-78784b76', './UNSAFE_Text', './Text-4733b962', './UNSAFE_Text/themes/TextStyles.css', 'module', './vanilla-extract-recipes-createRuntimeFn.esm-6f6e2b8d', './hooks/UNSAFE_useTooltip', './hooks/UNSAFE_useId', './UNSAFE_Floating', './Floating-851238a6', './index-0f1e12db', './hooks/UNSAFE_useUser', './index-7d808afa', './Common', './Common/themes', './Common/themes/redwood/theme', './utils/PRIVATE_floatingUtils', './utils/PRIVATE_refUtils', './hooks/UNSAFE_useOutsideClick', './UNSAFE_Floating/themes/redwood/FloatingTheme', './UNSAFE_Floating/themes/FloatingStyles.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingVariants.css', './vanilla-extract-dynamic.esm-a9754e48', './UNSAFE_Floating/themes/FloatingContract.css', './UNSAFE_Layer', './useThemeInterpolations-710109a5', './hooks/UNSAFE_useColorScheme', './hooks/UNSAFE_useScale', './utils/UNSAFE_interpolations/theme', './hooks/UNSAFE_useFocus', './hooks/UNSAFE_useTouch', './hooks/UNSAFE_useAnimation', './useAnimation-36a9a58b', './hooks/UNSAFE_useThemeInterpolations', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentTheme', './hooks/UNSAFE_useTooltip/themes/TooltipContentStyles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentBaseTheme.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'module', './PRIVATE_ThemedIcons/CloseIcon', './UNSAFE_Icon', './Icon-f27746d9', './UNSAFE_Icon/themes/IconStyle.css', 'module', './MessageDetail-ed317948', './MessageFormattingUtils-1561035a', './utils/UNSAFE_getLocale', './utils/UNSAFE_stringUtils', './stringUtils-96bfcb78', './Message.types-f79bf67b', './MessageStartIcon-0eacd752', './PRIVATE_ThemedIcons/MessageConfirmationIcon', './PRIVATE_ThemedIcons/MessageErrorIcon', './PRIVATE_ThemedIcons/MessageInfoIcon', './PRIVATE_ThemedIcons/MessageWarningIcon', './MessageSummary-1a256c77', './MessageTimestamp-bb896a80', './utils/UNSAFE_interpolations/boxalignment', './keys-72d42d0f', './utils/UNSAFE_interpolations/flexbox', './flexbox-03b175aa', './utils/UNSAFE_interpolations/flexitem', './flexitem-f4d8540e', './utils/UNSAFE_soundUtils', './UNSAFE_MessageBanner/themes/MessageBannerStyles.css', 'css!./MessageBannerStyles.styles.css', './UNSAFE_MessageBanner/themes/redwood/MessageBannerBaseTheme.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css', 'css!./MessageBannerVariants.styles.css', './PRIVATE_TransitionGroup', './hooks/UNSAFE_useMessagesContext'], (function(e,s,t,o,n,a,i,l,r,c,u,g,h,m,d,F,S,_,A,E,U,N,T,f,p,M,y,x,I,k,B,R,b,C,v,w,V,P,H,j,L,z,O,W,$,D,G,K,q,J,Q,X,Y,Z,ee,se,te,oe,ne,ae,ie,le,re,ce,ue,ge,he,me,de,Fe,Se,_e,Ae,Ee,Ue,Ne,Te,fe,pe,Me,ye,xe,Ie,ke,Be,Re,be,Ce,ve,we,Ve,Pe,He,je,Le,ze,Oe,We,$e,De,Ge,Ke,qe,Je,Qe,Xe,Ye,Ze,es,ss,ts,os,ns,as,is,ls,rs,cs,us,gs,hs,ms,ds){"use strict";const Fs={entering:e=>({to:{maxHeight:`${e.scrollHeight}px`,overflow:"hidden"},options:{duration:250},end:{maxHeight:"none",overflow:"initial"}}),exiting:e=>({..."none"===e.style.maxHeight&&{from:{maxHeight:`${e.scrollHeight}px`,overflow:"hidden"}},to:{maxHeight:0,overflow:"hidden"},end:{maxHeight:0,overflow:"hidden"},options:{duration:250}})},Ss={maxHeight:0,overflow:"hidden"};e.MessageBanner=function({closeButtonRenderer:e,detailRendererKey:n,data:l,onClose:d,renderers:F,translations:S,type:_="section"}){const A=t.useRef(new Map),E=t.useRef(null),U=t.useRef(null),[N,T]=t.useState(),[f,p]=t.useState(l.length>0),M=t.useRef(l.length),y=t.useRef(0);M.current=l.length;const x=t.useCallback((e=>s=>A.current.set(e,s)),[]);t.useImperativeHandle(U,(()=>({focus:()=>{if(l.length){const e=l[0].key;return A.current.get(e)?.focus(),!0}return!1},contains:e=>!(!l.length||!e)&&(E.current?.contains(e)??!1)})),[l]);const{controller:I,handlers:k}=a.useMessageFocusManager(U,{onFocus:t.useCallback((()=>{T(S?.navigationFromMessagesRegion)}),[T,S])}),B=t.useCallback((e=>{d?.(e)}),[d]),R=t.useCallback(((e,s,t)=>{const o=t?.contains(document.activeElement);if(0===M.current)return p(!1),void(o&&I.restorePriorFocus());const n=s+1<l.length?s+1:s-1;if(n>-1&&o){const e=l[n].key;A.current.get(e)?.focus()}}),[I,l]);if(t.useEffect((()=>{l.length?(p(!0),l.length>y.current&&T(S?.navigationToMessagesRegion),I.prioritize()):T(""),y.current=l.length}),[I,l,S]),!f&&0===l.length)return null;const{classes:b}=o.useComponentTheme(c.MessageBannerRedwoodTheme);return s.jsx("div",{ref:E,class:u.classNames(["oj-c-messagebanner",b]),tabIndex:-1,...k,children:s.jsxs(g.Flex,{direction:"column",gap:"section"===_?"1x":void 0,children:[s.jsx(h.MessagesManager,{animationStates:Fs,initialAnimationStyles:Ss,data:l,onMessageWillRemove:R,children:({index:t,item:o})=>s.jsx(i.Message,{messageRef:x(o.key),item:o,closeButtonRenderer:e,detailRenderer:m.getRenderer(o,n,F),index:t,variant:"page"===_?"pageBanner":"sectionBanner",onClose:B,translations:S},o.key)}),s.jsx(r.LiveRegion,{children:N})]})})},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_MessageBanner.js.map
