define(['exports', 'preact/jsx-runtime', 'preact', 'preact/compat', './hooks/UNSAFE_useFormContext', './hooks/UNSAFE_useFormFieldContext', './hooks/UNSAFE_useFocusableTextField', './UNSAFE_Label', './UNSAFE_TextField', './hooks/UNSAFE_useTextField', './UNSAFE_UserAssistance', './hooks/UNSAFE_useLengthFilter', 'preact/hooks', './utils/UNSAFE_classNames', './hooks/UNSAFE_usePress', 'css!./MaxLengthCounterStyles.styles.css', './classNames-c6cc4719', './hooks/UNSAFE_useCurrentValueReducer', './Label-d333c754', './ReadonlyTextFieldInput-735cd324', './TextFieldInput-ae1a90e4'], (function(e,s,t,a,n,i,l,o,r,u,c,d,x,h,m,p,F,g,b,v,L){"use strict";var y="MaxLengthCounterStyles_hide__7dy9j71",C="MaxLengthCounterStyles_maxLengthCounterBase__7dy9j70",f="MaxLengthCounterStyles_spanStyles__7dy9j72";const A=()=>{};function S({maxLength:e,valueLength:t=0,onClick:a}){const{isFocused:n}=i.useFormFieldContext(),l=x.useCallback((e=>e.preventDefault()),[]),o=F.classNames([!n&&y]),{pressProps:r}=m.usePress(a??A);return s.jsx("div",{class:C,onMouseDown:l,...r,children:s.jsxs("span",{class:o,children:[s.jsx("span",{class:f,children:t}),s.jsx("span",{class:f,children:"/"}),s.jsx("span",{class:f,children:e})]})})}const R=a.forwardRef((({"aria-describedby":e,assistiveText:o,autoComplete:x="off",autoFocus:h=!1,helpSourceLink:m,helpSourceText:p,isDisabled:F,isReadonly:y,isRequired:C=!1,isRequiredShown:f,label:A,labelEdge:R,labelStartWidth:j,maxLength:E,maxLengthCounter:U="remaining",maxLengthUnit:_,messages:T,placeholder:k,resize:N,role:D,rows:I,textAlign:P,userAssistanceDensity:w,value:M,variant:V="default",onInput:q,onCommit:B},W)=>{const{currentCommitValue:z,dispatch:H}=g.useCurrentValueReducer({value:M}),G=a.useCallback((e=>{H({type:"input",payload:e.value}),q?.(e)}),[q]),J=a.useCallback((e=>{H({type:"commit",payload:e.value}),B?.(e)}),[B]),{isDisabled:K,isReadonly:O,labelEdge:Q,labelStartWidth:X,textAlign:Y,userAssistanceDensity:Z}=n.useFormContext(),$=F??K,ee=y??O,se=R??Q,te=j??X,ae=P??Y,ne=w??Z,{enabledElementRef:ie,readonlyElementRef:le,focusProps:oe,isFocused:re}=l.useFocusableTextField({isDisabled:$,isReadonly:ee,ref:W}),{formFieldContext:ue,inputProps:ce,labelProps:de,textFieldProps:xe,userAssistanceProps:he}=u.useTextField({ariaDescribedBy:e,contentVariant:"textarea",helpSourceLink:m,helpSourceText:p,isDisabled:$,isFocused:re,isReadonly:ee,isRequiredShown:f,labelEdge:se,messages:T,styleVariant:V,userAssistanceDensity:ne,value:M}),{isMaxLengthExceeded:me,valueLength:pe,onFilteredInput:Fe}=d.useLengthFilter({maxLength:E,maxLengthUnit:_,value:M,onInput:G,onCommit:J}),ge="none"!==se?s.jsx(b.Label,{...de,children:A}):void 0,be={label:"none"!==se?ge:void 0,labelEdge:"none"!==se?se:void 0,labelStartWidth:"none"!==se?te:void 0},ve="none"===se?A:void 0,Le="efficient"===ne||"reflow"===ne?$||ee?"efficient"!==ne?void 0:s.jsx(c.InlineUserAssistance,{userAssistanceDensity:ne,...he}):s.jsx(c.InlineUserAssistance,{assistiveText:o,fieldLabel:A,helpSourceLink:m,helpSourceText:p,messages:T,isRequiredShown:f,userAssistanceDensity:ne,...he}):void 0,ye=a.useRef(null),Ce="compact"===ne?s.jsx(c.CompactUserAssistance,{anchorRef:ye,messages:T,assistiveText:o,...he}):void 0;if(ee)return s.jsx(i.FormFieldContext.Provider,{value:ue,children:s.jsx(r.ReadonlyTextField,{role:"presentation",compactUserAssistance:Ce,inlineUserAssistance:Le,ref:ye,variant:"textarea",...be,children:s.jsx(v.ReadonlyTextFieldInput,{"aria-describedby":ce["aria-describedby"],"aria-label":ve,"aria-labelledby":de.id,as:"textarea",elementRef:le,rows:I,autoFocus:h,textAlign:ae,value:M,variant:"textarea",hasEmptyLabel:""===A&&"none"===se,hasInsideLabel:void 0!==A&&"inside"===se})})});const fe=a.useCallback((()=>{const e=ie.current,s=e?e.value.length:null;ie.current?.setSelectionRange(s,s),ie.current?.focus()}),[]),Ae=s.jsxs(t.Fragment,{children:[s.jsx(L.TextFieldInput,{as:"textarea","aria-label":ve,autoComplete:x,autoFocus:h,currentCommitValue:z,hasEmptyLabel:""===A&&"none"===se,hasInsideLabel:void 0!==ge&&"inside"===se,isRequired:C,inputRef:ie,onCommit:J,onInput:Fe,placeholder:k,role:D,rows:I,textAlign:ae,value:M,...ce}),"remaining"===U&&void 0!==E&&s.jsx(S,{maxLength:E,valueLength:pe,parentHasFocus:re,onClick:fe}),void 0!==E&&s.jsx(r.MaxLengthLiveRegion,{isMaxLengthExceeded:me,maxLength:E,valueLength:pe})]});return s.jsx(i.FormFieldContext.Provider,{value:ue,children:s.jsx(r.TextField,{mainContent:Ae,compactUserAssistance:Ce,inlineUserAssistance:Le,onBlur:oe?.onfocusout,onFocus:oe?.onfocusin,mainFieldRef:ye,resize:N,...xe,...be})})}));e.MaxLengthCounter=S,e.TextArea=R}));
//# sourceMappingURL=TextArea-cffc583b.js.map
