define(['exports', 'preact/jsx-runtime', 'preact/hooks', 'css!./PRIVATE_SelectCommon.css', './UNSAFE_HighlightText', './PRIVATE_List', './UNSAFE_Flex', './UNSAFE_Skeleton', './utils/UNSAFE_logger', './Flex-0a2755ad', './HighlightText-7a45ac49', './List-46e8c21b', './SkeletonContainer-03fc1284', './Skeleton-d603045f', './UNSAFE_Floating', './UNSAFE_Layer', './PRIVATE_SelectCommon/themes/dropdownStyles.css', './utils/UNSAFE_arrayUtils', './Floating-851238a6', './hooks/UNSAFE_usePress', './PRIVATE_ThemedIcons/DropdownArrowIcon', './utils/UNSAFE_classNames', './classNames-c6cc4719', './hooks/PRIVATE_useCollectionGestureContext', './hooks/UNSAFE_useFormFieldContext', './UNSAFE_UserAssistance', './hooks/UNSAFE_useTranslationBundle', './UNSAFE_WindowOverlay', './PRIVATE_SelectCommon/themes/mobileDropdownStyles.css', './UNSAFE_Divider', './PRIVATE_SelectCommon/themes/selectMobileDropdownStyles.css', './Divider-9dbc0f92', './utils/PRIVATE_clientHints', './clientHints-fbfc14a7', './utils/UNSAFE_keys', './hooks/UNSAFE_useId', './hooks/UNSAFE_useViewportIntersect', './hooks/UNSAFE_useTabbableMode', 'preact', './hooks/UNSAFE_useComponentTheme', './_curry1-5cea534a', './_curry2-c02a6898', './hooks/UNSAFE_useInteractionStyle', './utils/UNSAFE_mergeProps', './hooks/UNSAFE_useHover', './hooks/UNSAFE_useToggle', './hooks/UNSAFE_useActive', './utils/UNSAFE_mergeInterpolations', './_curry3-f55dd1d6', './_has-de06828b', './utils/UNSAFE_interpolations/flexitem', './flexitem-f4d8540e', './keys-72d42d0f', './PRIVATE_List/themes/ListStyles.css', 'module', './vanilla-extract-recipes-createRuntimeFn.esm-6f6e2b8d', './UNSAFE_GroupedList/themes/redwood/GroupedListTheme', './UNSAFE_GroupedList/themes/GroupedListStyles.css', 'module', './UNSAFE_GroupedList/themes/redwood/GroupedListBaseTheme.css', 'module', './PRIVATE_LoadMoreCollection', './LoadMoreCollection-8bbff451', './PRIVATE_Collection', './Collection-1d11beed', './PRIVATE_VirtualizedCollection', './VirtualizedCollection-8fd5cb99', 'preact/compat', './UNSAFE_FocusTrap', './FocusTrap-33bb474d', './utils/PRIVATE_tabbableUtils', './_arity-d203ca27', './hooks/PRIVATE_useSelection', './hooks/UNSAFE_useUser', './index-7d808afa', './Common', './Common/themes', './Common/themes/redwood/theme', './Common/themes/themeContract.css', './utils/PRIVATE_collectionUtils', './hooks/PRIVATE_useCurrentKey', './hooks/PRIVATE_useCollectionFocusRing', './hooks/PRIVATE_useTabbableModeSet', './hooks/PRIVATE_useItemAction', './UNSAFE_Selector', './PRIVATE_ThemedIcons/CheckboxOffIcon', './PRIVATE_Icons/CheckboxOff', './UNSAFE_Icon', './Icon-f27746d9', './utils/UNSAFE_size', './UNSAFE_Theme', './utils-3096e431', './hooks/UNSAFE_useTooltip', './hooks/UNSAFE_useFocus', './hooks/UNSAFE_useTouch', './hooks/UNSAFE_useAnimation', './useAnimation-36a9a58b', './hooks/UNSAFE_useThemeInterpolations', './useThemeInterpolations-710109a5', './hooks/UNSAFE_useColorScheme', './hooks/UNSAFE_useScale', './utils/UNSAFE_interpolations/theme', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentTheme', './hooks/UNSAFE_useTooltip/themes/TooltipContentStyles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentBaseTheme.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'module', './index-0f1e12db', './utils/PRIVATE_floatingUtils', './utils/PRIVATE_refUtils', './hooks/UNSAFE_useOutsideClick', './UNSAFE_Floating/themes/redwood/FloatingTheme', './UNSAFE_Floating/themes/FloatingStyles.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingVariants.css', './vanilla-extract-dynamic.esm-a9754e48', './UNSAFE_Floating/themes/FloatingContract.css', './UNSAFE_Icon/themes/IconStyle.css', 'module', './PRIVATE_ThemedIcons/CheckboxOnIcon', './PRIVATE_Icons/CheckboxOn', './PRIVATE_ThemedIcons/CheckboxMixedIcon', './PRIVATE_Icons/CheckboxMixed', './UNSAFE_Selector/themes/SelectorStyles.css', 'module', './UNSAFE_Radio/themes/redwood/RadioIconTheme', './UNSAFE_Radio/themes/RadioIconStyles.css', 'module', './UNSAFE_Radio/themes/redwood/RadioIconBaseTheme.css', 'module', './UNSAFE_Radio/themes/redwood/RadioIconVariants.css', 'module', './utils/UNSAFE_interpolations/dimensions', './utils/UNSAFE_interpolations/boxalignment', './utils/UNSAFE_interpolations/flexbox', './flexbox-03b175aa', './utils/UNSAFE_interpolations/borders', './UNSAFE_Skeleton/themes/redwood/SkeletonTheme', './UNSAFE_Skeleton/themes/SkeletonStyles.css', 'module', './UNSAFE_Skeleton/themes/redwood/SkeletonBaseTheme.css', 'module', './UNSAFE_Skeleton/themes/redwood/SkeletonVariants.css', 'module', './InlineHelpSource-971e057c', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceTheme', './UNSAFE_UserAssistance/themes/UserAssistanceStyles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceBaseTheme.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './UNSAFE_ComponentMessage', './ComponentMessage-fb099f4f', './PRIVATE_Message', './utils/PRIVATE_timer', './PRIVATE_Message/themes/MessageStyles.css', 'module', './MessageCloseButton-80b9e135', './UNSAFE_IconButton', './IconButton-8a163411', './UNSAFE_BaseButton', './BaseButton-ff511180', './UNSAFE_ButtonLayout', './ButtonLayout-78784b76', './UNSAFE_Text', './Text-4733b962', './UNSAFE_Text/themes/TextStyles.css', 'module', './PRIVATE_ThemedIcons/CloseIcon', './MessageDetail-ed317948', './MessageFormattingUtils-1561035a', './utils/UNSAFE_getLocale', './utils/UNSAFE_stringUtils', './stringUtils-96bfcb78', './Message.types-f79bf67b', './MessageStartIcon-0eacd752', './PRIVATE_ThemedIcons/MessageConfirmationIcon', './PRIVATE_ThemedIcons/MessageErrorIcon', './PRIVATE_ThemedIcons/MessageInfoIcon', './PRIVATE_ThemedIcons/MessageWarningIcon', './MessageSummary-1a256c77', './MessageTimestamp-bb896a80', './MessageUtils-400d4d6a', './utils/UNSAFE_soundUtils', './UNSAFE_MessageBanner/themes/redwood/MessageBannerTheme', './UNSAFE_MessageBanner/themes/MessageBannerStyles.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerBaseTheme.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css', 'module', './MessagesManager-9c22a890', './PRIVATE_TransitionGroup', './hooks/UNSAFE_useMessagesContext', './UNSAFE_HiddenAccessible', './HiddenAccessible-035096e4', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageTheme', './UNSAFE_ComponentMessage/themes/ComponentMessageStyles.css', 'module', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageBaseTheme.css', 'module', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageVariants.css', './ComponentMessageContainer-1ff8855c', './hooks/UNSAFE_useFormContext', './hooks/UNSAFE_useInputGroupContext', './UNSAFE_Popup', './hooks/PRIVATE_useAnimationStatus', './UNSAFE_Popup/themes/PopupContract.css', './UNSAFE_Popup/themes/redwood/PopupTheme', './UNSAFE_Popup/themes/redwood/PopupBaseTheme.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', 'module', './CompactHelpSource-d0796baf', './PRIVATE_ThemedIcons/HelpIcon', './hooks/UNSAFE_useFocusWithin', './useFocusWithin-c30de616', './UNSAFE_Label/themes/redwood/LabelTheme', './UNSAFE_Label/themes/LabelStyles.css', 'module', './UNSAFE_Label/themes/redwood/LabelBaseTheme.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './UNSAFE_Divider/themes/DividerStyles.css', 'module', './UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css', 'module', './UNSAFE_WindowOverlay/themes/WindowOverlayContract.css', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css', 'module', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css', 'module', 'module'], (function(e,s,t,o,n,a,i,l,r,c,d,u,h,m,S,A,E,_,p,F,T,y,U,N,g,w,f,b,C,I,x,k,R,P,M,v,D,L,V,B,O,j,H,G,K,W,z,q,Y,$,J,Q,X,Z,ee,se,te,oe,ne,ae,ie,le,re,ce,de,ue,he,me,Se,Ae,Ee,_e,pe,Fe,Te,ye,Ue,Ne,ge,we,fe,be,Ce,Ie,xe,ke,Re,Pe,Me,ve,De,Le,Ve,Be,Oe,je,He,Ge,Ke,We,ze,qe,Ye,$e,Je,Qe,Xe,Ze,es,ss,ts,os,ns,as,is,ls,rs,cs,ds,us,hs,ms,Ss,As,Es,_s,ps,Fs,Ts,ys,Us,Ns,gs,ws,fs,bs,Cs,Is,xs,ks,Rs,Ps,Ms,vs,Ds,Ls,Vs,Bs,Os,js,Hs,Gs,Ks,Ws,zs,qs,Ys,$s,Js,Qs,Xs,Zs,et,st,tt,ot,nt,at,it,lt,rt,ct,dt,ut,ht,mt,St,At,Et,_t,pt,Ft,Tt,yt,Ut,Nt,gt,wt,ft,bt,Ct,It,xt,kt,Rt,Pt,Mt,vt,Dt,Lt,Vt,Bt,Ot,jt,Ht,Gt,Kt,Wt,zt,qt,Yt,$t,Jt,Qt,Xt,Zt,eo,so,to,oo,no,ao,io,lo,ro,co,uo,ho,mo,So,Ao,Eo,_o,po,Fo,To,yo,Uo){"use strict";function No(e,s){if("string"!=typeof s)return s(e);if(e.data?.hasOwnProperty(s)){const t=e.data[s];return String(t)}r.Logger.error("SelectMultiple: itemText specifies field that does not exist: "+s)}const go="_1npz66g",wo=()=>{};const fo=s.jsx(h.SkeletonContainer,{minimumCount:3,children:()=>s.jsx(c.Flex,{height:"12x",align:"center",children:s.jsx(m.Skeleton,{height:"4x"})})}),bo={TAB:"Tab",ENTER:"Enter",NUMPAD_ENTER:"NumpadEnter",ESC:"Escape",SPACE:"Space",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",SHIFT_LEFT:"ShiftLeft",SHIFT_RIGHT:"ShiftRight",CTRL_LEFT:"ControlLeft",CTRL_RIGHT:"ControlRight",ALT_LEFT:"AltLeft",ALT_RIGHT:"AltRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",HOME:"Home",END:"End",BACKSPACE:"Backspace",DELETE:"Delete"},Co=e=>{switch(e.code){case bo.SHIFT_LEFT:case bo.SHIFT_RIGHT:case bo.CTRL_LEFT:case bo.CTRL_RIGHT:case bo.ALT_LEFT:case bo.ALT_RIGHT:return!0;default:return e.metaKey||e.ctrlKey}},Io=e=>/\bF([1-9]|1[0-2])\b/i.test(e.code),xo=e=>Co(e)||Io(e),ko=e=>0===e.button&&!e.ctrlKey,Ro=e=>{e.currentTarget===e.target&&e.preventDefault()},Po=e=>e?.ownerDocument??document,Mo=({isDisabled:e=!1,ref:s,handler:o})=>{t.useEffect((()=>{const t=_.coerceArray(s);if(!o||e||t.length>0&&t.findIndex((e=>null===e.current))>-1)return;const n=e=>{((e,s)=>{const t=e.target;if(t&&!Po(t).contains(t))return!1;return s.every((e=>!e.current?.contains(t)))})(e,t)&&o?.(e)},a=t[0],i=Po(a.current);return i?(i.addEventListener("mousedown",n,!0),()=>{i.removeEventListener("mousedown",n,!0)}):void 0}),[e,o,s])},vo="bottom-start";const Do={base:"_1yarbfi",sizeMd:"_1urnr2m",sizeSm:"_15ebk5n",enabled:"myrj0b",disabled:"_18syyyc"},Lo=()=>{};const Vo={base:"_4c65sg",topGap:"_116esxq",bottomGap:"ultw8n",loading:"ppzlql"};const Bo="jusy6v";const Oo="_28qefd";function jo({children:e,id:t,isOpen:o}){return o?s.jsx(A.Layer,{children:s.jsx(b.WindowOverlay,{children:s.jsx("div",{id:t,class:C.mobileDropdownStyles.base,role:"dialog","aria-modal":"true",children:s.jsx(c.Flex,{width:"100%",height:"100%",maxHeight:"100%",direction:"column",children:e})})})}):null}e.DefaultList=function({"aria-label":e,currentItemVariant:o,currentKey:n,data:a,itemRenderer:i,itemText:l,onCurrentKeyChange:r,onItemAction:h,onLoadRange:m=wo,onSelectionChange:S,searchText:A,selectedKeys:E,selectionMode:_}){const p=t.useCallback((e=>{const t={data:e.data,index:e.index,metadata:e.metadata,selector:e.selector,searchText:A,selectedKeys:E,onSelectionChange:({target:e,value:s})=>{S?.({target:e,value:{all:!1,keys:s}})}},o={data:e.data,key:e.metadata.key,metadata:e.metadata};return i?i(t):s.jsxs(c.Flex,{children:[e.selector&&e.selector(),s.jsx("div",{class:go,children:s.jsx(d.HighlightText,{matchText:A,children:No(o,l)})})]})}),[i,l,S,A,E]),F=t.useMemo((()=>({all:!1,keys:E??new Set})),[E]);return s.jsx(u.List,{"aria-label":e,allowTabbableMode:!1,currentItemVariant:o,currentKey:n,data:a??null,loadingIndicator:fo,onCurrentKeyChange:r,onItemAction:h,onLoadRange:m,onSelectionChange:S,role:"listbox",selectedKeys:F,selectionMode:_,children:e=>p(e)})},e.Dropdown=function({anchorRef:e,children:o,dropdownRef:n,id:a,isOpen:i,onAutoDismiss:l,onPosition:r}){const[c,d]=t.useState(vo);t.useEffect((()=>{i||d(vo)}),[i,d]);const u=t.useCallback((e=>{d(e.placement),r?.(e)}),[r,d]),h=t.useCallback((e=>{l?.(e)}),[l]),m=t.useCallback((e=>{if(!e.defaultPrevented&&!xo(e))switch(e.code){case bo.ESC:case bo.TAB:h(e)}}),[h]);Mo({isDisabled:!i,ref:[e,n],handler:h});const S=i?{minWidth:`${e.current?.offsetWidth}px`}:{};return i?s.jsx(A.Layer,{logicalParentRef:e,children:s.jsx(p.Floating,{anchorRef:e,sizeOptions:{isMaxHeightAdjusted:!0,maxHeightCeiling:400},ref:n,placement:c,offsetValue:{mainAxis:4,crossAxis:0},onPosition:u,children:s.jsx("div",{class:E.dropdownStyles.base,id:a,style:S,onKeyDown:m,onMouseDown:Ro,children:o})})}):null},e.DropdownArrow=function({isDisabled:e=!1,onClick:o,size:n="md"}){const a=t.useCallback((e=>{e.preventDefault()}),[]),{pressProps:i}=F.usePress(o??Lo,{isDisabled:e}),l=U.classNames([Do.base,"sm"===n?Do.sizeSm:Do.sizeMd,e?Do.disabled:Do.enabled]);return s.jsx("span",{"aria-hidden":"true",class:l,tabIndex:-1,onMouseDown:a,...i,children:s.jsx(T.DropdownArrowIcon,{})})},e.DropdownList=function({children:e,hasBottomGap:t=!0,isLoading:o=!1}){const n=U.classNames([Vo.base,Vo.topGap,t&&Vo.bottomGap,o&&Vo.loading]);return s.jsx(N.CollectionGestureContext.Provider,{value:"embedded",children:s.jsx("div",{class:n,onMouseDown:Ro,children:e})})},e.DropdownUserAssistance=function(e){const o=t.useCallback((e=>{"A"!==e.target?.tagName&&e.preventDefault()}),[]);return s.jsx(g.FormFieldContext.Provider,{value:{isFocused:!0},children:s.jsx("div",{class:Bo,onMouseDown:o,children:s.jsx(w.InlineUserAssistance,{...e})})})},e.EmptyResults=function(){const e=f.useTranslationBundle("@oracle/oraclejet-preact");return s.jsx("div",{class:Oo,onMouseDown:Ro,children:e.select_noMatchesFound()})},e.KEYS=bo,e.MobileDropdown=jo,e.SelectMobileDropdown=function({children:e,footer:t,header:o,id:n,isOpen:a}){return s.jsxs(jo,{id:n,isOpen:a,children:[o,s.jsx(k.Divider,{}),s.jsx("div",{class:x.selectMobileDropdownStyles.content,children:e}),s.jsx(k.Divider,{}),t]})},e.isBeforeDataFetch=function(e){return"atLeast"===e.sizePrecision&&0===e.totalSize},e.isControlKey=Co,e.isControlOrFunctionKey=xo,e.isFunctionKey=Io,e.isMobile=function(){const e=P.getClientHints().deviceType;return"phone"===e||"tablet"===e},e.isPhone=function(){return"phone"===P.getClientHints().deviceType},e.isSimpleClick=ko,e.isTablet=function(){return"tablet"===P.getClientHints().deviceType},e.preventDefault=e=>{e.preventDefault()},e.preventDefaultForCurrentTarget=Ro,e.renderItemText=No,e.useSelectCommon=function({data:e,inputRef:s,isFocused:o,onFilter:n}){const a=t.useRef(null),i=t.useRef(null),[l,r]=t.useState(!1),[c,d]=t.useState(!1),[u,h]=t.useState({rowKey:void 0}),[m,S]=t.useState(),[A,E]=t.useState(!1),[_,p]=t.useState(),[F,T]=t.useState(),y=t.useCallback((e=>{!e.defaultPrevented&&ko(e)&&(l||r(!0),setTimeout((function(){s.current?.focus()}),0))}),[s,l]),U=t.useCallback((()=>{r(!l),s.current?.focus()}),[s,l]),N=t.useCallback((e=>{if(l)switch(r(!1),e?.type){case"keydown":if(e.code===bo.ESC)s.current?.focus();break;case"mousedown":i.current?.contains(document.activeElement)&&s.current?.focus()}}),[s,l]),g=t.useCallback((e=>{d(e.placement.startsWith("top"))}),[]),w=t.useCallback((s=>{if(l){const s=i.current?.querySelector('[tabindex="0"]');s?.focus(),void 0!==e&&void 0===u.rowKey&&h({rowKey:e?.data?.[0]?.metadata?.key})}else r(!0);s.preventDefault()}),[u,e,l]),f=t.useCallback((e=>{if(!xo(e))switch(e.code){case bo.PAGE_UP:case bo.PAGE_DOWN:return void e.preventDefault();case bo.UP:case bo.DOWN:e.preventDefault();break;case bo.ESC:l&&(r(!1),e.preventDefault(),e.stopPropagation())}}),[l]),b=t.useCallback((e=>{if(!xo(e))switch(e.code){case bo.UP:case bo.DOWN:w(e)}}),[w]),C=t.useCallback((e=>{l||r(!0),E(!0),p(e.value);const s=e.value?.trim();T(s),n?.({searchText:s})}),[l,n]),I=t.useCallback((e=>{h({rowKey:e.value})}),[]),x=t.useCallback((()=>{E(!1),p(""),T("")}),[]);return t.useEffect((()=>{l||o||!A||x()}),[l,o,A,x]),t.useEffect((()=>{l&&!A&&n?.({searchText:void 0})}),[l,A,n]),t.useEffect((()=>{l||d(!1)}),[l]),{currentRow:u,dropdownRef:i,handleDropdownArrowClick:U,handleDropdownAutoDismiss:N,handleDropdownPosition:g,handleInput:C,handleMainFieldKeyDown:f,handleMainFieldKeyUp:b,handleUpDownArrowKeys:w,isDropdownAbove:c,isDropdownOpen:l,isFocused:o||l,isUserFiltering:A,mainFieldRef:a,onCurrentKeyChange:I,onMouseDown:y,searchText:F,selectedKeys:m,setCurrentRow:h,setDropdownOpen:r,setSelectedKeys:S,setUserInput:p,stopFiltering:x,userInput:_}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=PRIVATE_SelectCommon.js.map
