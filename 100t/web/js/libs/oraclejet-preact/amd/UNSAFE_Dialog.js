define(['exports', 'preact/jsx-runtime', 'preact/hooks', 'preact/compat', './hooks/UNSAFE_useAnimation', './hooks/UNSAFE_useComponentTheme', './UNSAFE_Layer', './UNSAFE_Modal', './UNSAFE_FocusTrap', './UNSAFE_WindowOverlay', './hooks/UNSAFE_useId', './UNSAFE_Dialog/themes/redwood/DialogTheme', './useAnimation-36a9a58b', './FocusTrap-33bb474d', './Modal-6566ca5b', './utils/UNSAFE_logger', './_curry1-5cea534a', './_curry2-c02a6898', './index-7d808afa', 'preact', './Common', './Common/themes', './Common/themes/redwood/theme', './Common/themes/themeContract.css', './useThemeInterpolations-710109a5', './hooks/UNSAFE_useColorScheme', './hooks/UNSAFE_useScale', './utils/UNSAFE_interpolations/theme', './UNSAFE_Theme', './utils-3096e431', './utils/UNSAFE_mergeInterpolations', './utils/UNSAFE_classNames', './classNames-c6cc4719', './_curry3-f55dd1d6', './_has-de06828b', 'module', './utils/PRIVATE_tabbableUtils', './_arity-d203ca27', './vanilla-extract-dynamic.esm-a9754e48', './UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css', 'module', './UNSAFE_WindowOverlay/themes/WindowOverlayContract.css', './hooks/UNSAFE_useUser', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css', 'module', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-6f6e2b8d', './UNSAFE_Dialog/themes/DialogStyles.css', 'css!./DialogStyles.styles.css', './UNSAFE_Dialog/themes/redwood/DialogBaseTheme.css', 'module', './UNSAFE_Dialog/themes/redwood/DialogVariants.css', './useModal-d279b8b3', './UNSAFE_Modal/themes/ModalStyles.css', 'module'], (function(e,o,s,a,l,t,i,n,r,d,c,m,y,h,u,S,N,_,p,F,g,A,E,w,U,b,f,v,O,D,T,x,j,W,C,B,M,R,k,I,K,L,X,Y,V,P,H,q,z,G,J,Q,Z,$,ee,oe){"use strict";const se=({header:e,id:s})=>{const{styles:a}=t.useComponentTheme(m.DialogRedwoodTheme),l="string"==typeof e?o.jsx("h1",{id:s,className:a.dialogTitleStyle,children:e}):e;return o.jsx("div",{"aria-labelledby":s,className:a.dialogHeaderStyle,children:l})},ae=a.forwardRef((({children:e,header:s,footer:a,labelId:l,role:i,ariaLabelledBy:n,ariaDescribedBy:r,onKeyDown:d},c)=>{const{classes:y,styles:h}=t.useComponentTheme(m.DialogRedwoodTheme);return o.jsx("div",{ref:c,className:y,style:{opacity:0},onKeyDown:d,role:i,"aria-labelledby":n,"aria-describedby":r,children:o.jsxs("div",{className:h.dialogContainerStyle,children:[o.jsx(se,{id:l,header:s}),o.jsx("div",{className:h.dialogContentStyle,children:o.jsx("div",{className:h.dialogBodyStyle,children:e})}),o.jsx("div",{className:h.dialogFooterStyle,children:a})]})})})),le={opening:{from:{scaleX:0,scaleY:0,transformOrigin:"center",opacity:0},to:{scaleX:1,scaleY:1,opacity:1},options:{duration:200}},closing:{from:{scaleX:1,scaleY:1,transformOrigin:"center",opacity:1},to:{scaleX:0,scaleY:0,opacity:0},options:{duration:200}}};e.Dialog=({autoFocusRef:e,children:a,isOpen:l,header:t="",footer:n,modality:r="modal",placement:m="center",offset:S=0,onClose:N,onTransitionEnd:_,role:p="dialog","aria-labelledby":F,"aria-describedby":g})=>{const[A,E]=s.useState(l?"opening":"unmounted"),w=c.useId(),U=F||w;s.useEffect((()=>{("unmounted"!==A||l)&&E(l?"opening":"closing")}),[l,A]);const{nodeRef:b}=y.useAnimation(A,{animationStates:le,isAnimatedOnMount:!0,onAnimationEnd:({animationState:e})=>{"closing"===e?(E("unmounted"),_?.(!1)):_?.(!0)}}),f=e=>{if("Escape"===e.code)N?.({reason:"escapeKey"})},v=()=>o.jsx(d.WindowOverlay,{placement:m,offset:S,children:o.jsx(h.FocusTrap,{autoFocusRef:e,children:o.jsx(ae,{ref:b,labelId:U,header:t,footer:n,role:p,ariaLabelledBy:U,ariaDescribedBy:g,onKeyDown:f,children:a})})});return"modal"===r?o.jsx(u.Modal,{isOpen:"unmounted"!==A,children:v()}):"unmounted"!==A?o.jsx(i.Layer,{children:v()}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Dialog.js.map
