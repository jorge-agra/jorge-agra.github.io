define(['exports', 'preact/jsx-runtime', 'preact/hooks', './hooks/UNSAFE_useId', 'preact', './utils/UNSAFE_classNames', './hooks/UNSAFE_useComponentTheme', './UNSAFE_Flex', './UNSAFE_Divider', './PRIVATE_ThemedIcons/ExpandIcon', './PRIVATE_ThemedIcons/CollapseIcon', './PRIVATE_ThemedIcons/CollapseUpIcon', './index-f84f6993', './index-4e4341e9', './hooks/UNSAFE_usePress', './UNSAFE_Collapsible/themes/redwood/CollapsibleTheme', './classNames-c6cc4719', './Flex-0a2755ad', './Divider-9dbc0f92', './hooks/UNSAFE_useAnimation', './useAnimation-36a9a58b'], (function(e,n,s,i,a,o,l,t,d,r,c,h,u,b,x,m,p,g,v,E,S){"use strict";const C=({isExpanded:e,isDisabled:s,iconPosition:i})=>{const a=s?"disabled":"primary",o="start"===i&&e?u.SvgChevronDown:c.CollapseIcon,l="end"===i&&e?b.SvgChevronUp:u.SvgChevronDown,t="start"===i?o:l;return n.jsx(t,{size:"6x",color:a})},j=({children:e,id:i,contentId:o,isDisabled:t,isExpanded:d,iconPosition:r,variant:c="basic",toggleHandler:h,accessibleLabel:u,accessibleLabelId:b})=>{const[E,S]=s.useState(!1),{classes:j,styles:I}=l.useComponentTheme(m.CollapsibleRedwoodTheme,{disabled:t?"isDisabled":"notDisabled",divider:"horizontal-rule"===c?"hasDivider":"noDivider",focused:E?"isFocused":"notFocused"}),f=p.classNames([I.headerChildrenStyle,"end"===r&&I.iconEndStyle,"start"===r&&I.iconStartStyle]),F=s.useCallback((e=>{h(e.target);(window&&"PointerEvent"in window&&e instanceof PointerEvent||e instanceof MouseEvent)&&S(!1)}),[h]),{pressProps:N}=x.usePress(F,{isDisabled:t,isRepeat:!1}),T=s.useCallback((e=>{"focusin"===e.type?S(!0):S(!1)}),[]),y=u?{"aria-label":u}:b?{"aria-labelledby":b}:{"aria-labelledby":i};return n.jsxs(n.Fragment,{children:[n.jsx("div",{id:i,className:j,...N,children:n.jsx(g.Flex,{align:"center",justify:"start"===r?"start":"between",children:n.jsxs(a.Fragment,{children:["end"===r&&n.jsx("div",{className:f,children:e}),n.jsx("div",{tabIndex:0,role:"button","aria-controls":o,"aria-expanded":d,onFocus:T,onBlur:T,className:I.chevronStyle,...y,children:n.jsx(C,{iconPosition:r,isExpanded:d,isDisabled:t})}),"start"===r&&n.jsx("div",{className:f,children:e})]})})}),"horizontal-rule"===c&&n.jsx(v.Divider,{})]})},I=({children:e,id:i,isExpanded:a,onTransitionEnd:o})=>{const[t,d]=s.useState(a?"expanding":"unmounted"),{styles:r}=l.useComponentTheme(m.CollapsibleRedwoodTheme),c=s.useRef({overflowY:"hidden",maxHeight:a?"none":"0"});s.useEffect((()=>{("unmounted"!==t||a)&&d(a?"expanding":"collapsing")}),[a,t]);const{nodeRef:h}=S.useAnimation(t,{animationStates:f,onAnimationEnd:({animationState:e})=>{"collapsing"===e&&d("unmounted"),o?.()}});return n.jsx("div",{className:r.contentChildrenStyle,ref:h,id:i,tabIndex:-1,style:c.current,"aria-hidden":!a||void 0,children:"unmounted"!==t&&e})},f={expanding:e=>({to:{maxHeight:`${e.scrollHeight}px`},options:{duration:400},end:{maxHeight:"none"}}),collapsing:e=>({..."none"===e.style.maxHeight&&{from:{maxHeight:`${e.scrollHeight}px`}},to:{maxHeight:"0"},options:{duration:400}})};e.Collapsible=({header:e,children:a,isDisabled:o=!1,isExpanded:l=!1,iconPosition:t="start",variant:d="basic",onToggle:r,onTransitionEnd:c,"aria-label":h,"aria-labelledby":u})=>{const b=i.useId(),x=`oj-collapsible-header-${b}`,m=`oj-collapsible-content-${b}`,p=s.useCallback((e=>{o||r?.({value:!l,target:e})}),[o,r,l]),g=s.useCallback((()=>{c?.({value:l})}),[c,l]);return n.jsxs(n.Fragment,{children:[n.jsx(j,{id:x,contentId:m,toggleHandler:p,isDisabled:o,isExpanded:l,iconPosition:t,variant:d,accessibleLabel:h,accessibleLabelId:u,children:e}),n.jsx(I,{id:m,isExpanded:l,onTransitionEnd:g,children:a})]})}}));
//# sourceMappingURL=Collapsible-74774d95.js.map
