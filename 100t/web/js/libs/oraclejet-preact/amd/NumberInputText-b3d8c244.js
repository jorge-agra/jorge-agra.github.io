define(['exports', 'preact/jsx-runtime', 'preact/compat', 'preact/hooks', './hooks/UNSAFE_useFocusableTextField', './hooks/UNSAFE_useFormContext', './hooks/UNSAFE_useFormFieldContext', './hooks/UNSAFE_useHover', './hooks/UNSAFE_useTextField', './UNSAFE_Label', './hooks/UNSAFE_usePrefixSuffix', './UNSAFE_TextField', './UNSAFE_UserAssistance', './utils/PRIVATE_clientHints', './hooks/UNSAFE_useToggle', './UNSAFE_IconButton', './PRIVATE_ThemedIcons/IncrementIcon', './PRIVATE_ThemedIcons/DecrementIcon', './hooks/UNSAFE_useTabbableMode', './hooks/UNSAFE_useTranslationBundle', './index-4e4341e9', './index-f84f6993', './IconButton-8a163411', './UNSAFE_Grid', './hooks/UNSAFE_useCurrentValueReducer', './Label-d333c754', './ReadonlyTextFieldInput-735cd324', './TextFieldInput-ae1a90e4', './clientHints-fbfc14a7'], (function(e,s,n,t,i,r,a,o,l,u,d,c,p,b,x,f,v,h,S,m,F,A,y,T,C,D,E,R,U){"use strict";function g({direction:e,isDisabled:n,onStep:i,variant:r}){const a=m.useTranslationBundle("@oracle/oraclejet-preact"),o=a.inputNumber_increase(),l=a.inputNumber_decrease(),u="increase"===e?o:l,d=t.useCallback((()=>{i?.({direction:e})}),[i,e]),c="arrowup"===r?s.jsx(F.SvgChevronUp,{}):s.jsx(A.SvgChevronDown,{});return s.jsx(S.TabbableModeContext.Provider,{value:{isTabbable:!1},children:s.jsx(y.IconButton,{isDisabled:n,tooltip:u,onAction:d,variant:"borderless",children:c})})}function w({children:e}){return s.jsx(T.Grid,{align:"center",gap:"1x",gridTemplateColumns:"1fr 1fr",children:e})}const I=n.forwardRef((({"aria-describedby":e,"aria-valuemax":n,"aria-valuemin":u,"aria-valuenow":b,"aria-valuetext":f,assistiveText:v,autoComplete:h="off",autoFocus:S=!1,helpSourceLink:m,helpSourceText:F,isDisabled:A,isReadonly:y,isRequired:T=!1,isRequiredShown:U,isStepDownDisabled:I,isStepUpDisabled:j,hasSteppers:P=!1,label:_,labelEdge:N,labelStartWidth:L,messages:V,placeholder:B,prefix:H,suffix:q,textAlign:M,userAssistanceDensity:K,value:W,variant:G="default",virtualKeyboard:z,onInput:J,onCommit:O,onSpin:Q,onSpinComplete:X,onStep:Y},Z)=>{const{currentCommitValue:$,dispatch:ee}=C.useCurrentValueReducer({value:W}),se=t.useCallback((e=>{ee({type:"input",payload:e.value}),J?.(e)}),[J,ee]),ne=t.useCallback((e=>{ee({type:"commit",payload:e.value}),O?.(e)}),[O,ee]),{isDisabled:te,isReadonly:ie,labelEdge:re,labelStartWidth:ae,textAlign:oe,userAssistanceDensity:le}=r.useFormContext(),ue=A??te,de=y??ie,ce=N??re,pe=L??ae,be=M??oe,xe=K??le,{enabledElementRef:fe,focusProps:ve,isFocused:he,readonlyElementRef:Se}=i.useFocusableTextField({isDisabled:ue,isReadonly:de,ref:Z}),{hoverProps:me}=o.useHover({isDisabled:de||ue||!1}),{baseId:Fe,formFieldContext:Ae,inputProps:ye,labelProps:Te,textFieldProps:Ce,userAssistanceProps:De}=l.useTextField({ariaDescribedBy:e,helpSourceLink:m,helpSourceText:F,isDisabled:ue,isFocused:he,isReadonly:de,isRequiredShown:U,labelEdge:ce,messages:V,styleVariant:G,userAssistanceDensity:xe,value:W}),Ee=ue||I,Re=ue||j,{steppers:Ue,stepHandlerProps:ge}=(({hasSteppers:e,inputRef:n,isStepDownDisabled:i,isStepUpDisabled:r,onSpin:a,onSpinComplete:o,onStep:l})=>{const{bool:u,setTrue:d,setFalse:c}=x.useToggle(!1),{bool:p,setTrue:b,setFalse:f}=x.useToggle(!1),v=t.useRef(null),h=t.useRef(null),S=t.useRef("increase"),m=t.useRef(!1),F=t.useCallback((e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),e.stopPropagation(),u||"ArrowDown"===e.key&&i||"ArrowUp"===e.key&&r||(S.current="ArrowDown"===e.key?"decrease":"increase",d(),l?.({direction:S.current})))}),[u,l,i,r,d]),A=t.useCallback((e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key||(p&&(m.current=!0),c(),f(),e.stopPropagation())}),[p,c,f]);t.useEffect((()=>(u&&!v.current&&(v.current=setTimeout((()=>{b()}),500)),()=>{v.current&&(clearTimeout(v.current),v.current=null)})),[u,b]),t.useEffect((()=>(p?h.current||(h.current=setInterval((()=>{"increase"===S.current&&r||"decrease"===S.current&&i?(f(),m.current=!0):a?.({direction:S.current})}),40)):h.current&&(clearInterval(h.current),h.current=null),()=>{h.current&&(clearInterval(h.current),h.current=null)})),[p,i,r,a,f]),t.useEffect((()=>{!p&&m.current&&(m.current=!1,o?.())}),[p,o]);const y=t.useCallback((e=>{n.current?.focus(),l?.(e)}),[l,n]),T=t.useCallback((e=>{e.preventDefault(),e.stopPropagation()}),[]);return{steppers:e?s.jsxs(w,{children:[s.jsx("div",{onMouseDown:e=>i&&T(e),"aria-hidden":"true",children:s.jsx(g,{direction:"decrease",isDisabled:i,onStep:y,variant:"arrowdown"})}),s.jsx("div",{onMouseDown:e=>r&&T(e),"aria-hidden":"true",children:s.jsx(g,{direction:"increase",isDisabled:r,onStep:y,variant:"arrowup"})})]}):void 0,stepHandlerProps:e?{onKeyDown:F,onKeyUp:A}:{}}})({hasSteppers:P,inputRef:fe,isStepDownDisabled:Ee,isStepUpDisabled:Re,onSpin:Q,onSpinComplete:X,onStep:Y}),{renderedPrefix:we,renderedSuffix:Ie,text:ke,ariaLabelledBy:je}=d.usePrefixSuffix({baseId:Fe,hasEndContent:void 0!==Ue,hasInsideLabel:void 0!==_&&"inside"===ce,hasStartContent:!1,hasValue:Ae.hasValue,isDisabled:ue,isFocused:he,labelId:Te.id,prefix:H,suffix:q,value:W}),Pe="none"!==ce?s.jsx(D.Label,{...Te,children:_}):void 0,_e={label:"none"!==ce?Pe:void 0,labelEdge:"none"!==ce?ce:void 0,labelStartWidth:"none"!==ce?pe:void 0},Ne="none"===ce?_:void 0,Le="efficient"===xe||"reflow"===xe?ue||de?"efficient"!==xe?void 0:s.jsx(p.InlineUserAssistance,{userAssistanceDensity:xe,...De}):s.jsx(p.InlineUserAssistance,{assistiveText:v,fieldLabel:_,helpSourceLink:m,helpSourceText:F,messages:V,isRequiredShown:U,userAssistanceDensity:xe,...De}):void 0,Ve=t.useRef(null),Be="compact"===xe?s.jsx(p.CompactUserAssistance,{anchorRef:Ve,messages:V,assistiveText:v,...De}):void 0;if(de)return s.jsx(a.FormFieldContext.Provider,{value:Ae,children:s.jsx(c.ReadonlyTextField,{role:"presentation",compactUserAssistance:Be,inlineUserAssistance:Le,onBlur:ve.onfocusout,onFocus:ve.onfocusin,ref:Ve,..._e,children:s.jsx(E.ReadonlyTextFieldInput,{"aria-describedby":ye["aria-describedby"],"aria-label":Ne,"aria-labelledby":Te.id,as:"div",autoFocus:S,elementRef:Se,textAlign:be,value:ke,hasEmptyLabel:""===_&&"none"===ce,hasInsideLabel:void 0!==_&&"inside"===ce})})});const He=void 0===b||b.toString()!==f?f:void 0,qe=s.jsxs(s.Fragment,{children:[we,s.jsx(R.TextFieldInput,{"aria-labelledby":je,"aria-label":Ne,"aria-valuemax":n,"aria-valuemin":u,"aria-valuenow":b,"aria-valuetext":He,autoComplete:h,autoFocus:S,currentCommitValue:$,hasEmptyLabel:""===_&&"none"===ce,hasEndContent:void 0!==Ue,hasInsideLabel:void 0!==Pe&&"inside"===ce,hasPrefix:void 0!==we,hasStartContent:!1,hasSuffix:void 0!==Ie,inputRef:fe,isRequired:T,placeholder:B,role:P?"spinbutton":void 0,textAlign:be,type:k()?z:void 0,value:ue?ke:W,onCommit:ne,onInput:se,...ye,...ge}),Ie]});return s.jsx(a.FormFieldContext.Provider,{value:Ae,children:s.jsx(c.TextField,{endContent:Ue,compactUserAssistance:Be,inlineUserAssistance:Le,mainContent:qe,onBlur:ve.onfocusout,onFocus:ve.onfocusin,mainFieldRef:Ve,...Ce,..._e,...me})})}));function k(){const e=U.getClientHints().deviceType;return"phone"===e||"tablet"===e}e.NumberInputText=I}));
//# sourceMappingURL=NumberInputText-b3d8c244.js.map
